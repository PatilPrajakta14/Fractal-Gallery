<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.min.js"></script>

</head>
<body>
  <h1>Program to generate a naturalistic fractal tree</h1>
    <h2>Program by - Prajakta Yashwant Patil</h2>
    <canvas id="myCanvas" width="700" height="500" style="border: 1px solid #d3d3d3;"></canvas>
    <button id="refreshBtn">Generate new fractal tree</button>
    <script>
        var canvas = document.getElementById("myCanvas");
        var ctx = canvas.getContext("2d");
        var RAD=0.017453292;
        var PI=3.141592654;
        var FR=0.7,LR=0.45,NB=6;
        var id=1;
        const refreshButton = document.getElementById('refreshBtn');
        refreshButton.addEventListener('click', () => {
        location.reload();});

        let Point = {
                    x: 0,
                    y: 0
        };
        let p=Object.create(Point);
        function Tree( p, A, L, F, n, x, y)
          {
            var i,num;
            let p2=Object.create(Point);
            var delang,ang;

            if(n>0)
            {
                p2.x=p.x+L*Math.cos(RAD*A);
                p2.y=p.y+L*Math.sin(RAD*A);
                ctx.moveTo(p.x+x,-p.y+479+y);
                ctx.lineTo(p2.x+x,-p2.y+479+y);
                ctx.stroke();

                NB=Math.random()*200/10;
                num=NB;
                if(num>1) delang=F/(num-1);
                else delang=0;

                ang=A-F/2-delang;
                for(i=1;i<=num;i++)
                {
                  ang=ang+delang;
                  if(id==0)
                    Tree(p2,ang,L*LR*Math.random()*5/3,F*FR*Math.random()*7/2,n-1,x,y);
                  else
                    Tree(p2,ang,L*LR*Math.random()*5/3,F*FR,n-1,x,y);
                }
            }
          }
          var A,L,F,x,y;
          var n,i,j;
          x=0;
          y=150;
          p.x=320;
          p.y=240;
          A=90;
          L=100;
          F=150;
          n=5;
          
          Tree(p,A,L,F,n,x,y);
          
</script>
</body>
</html>